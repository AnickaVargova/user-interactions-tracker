(()=>{"use strict";const e="http://localhost:4001";window.addEventListener("load",(()=>{fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:window.location.href,timestamp:new Date,text:"A user visited the website."})}).catch((e=>console.error(e)))}));const t=document.getElementsByTagName("a");Array.from(t).map((t=>{t.addEventListener("click",(()=>fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:window.location.href,timestamp:new Date,text:"A user clicked on a link.",targetUrl:t.href})}).catch((e=>console.error(e)))))})),window.addEventListener("beforeunload",(()=>fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:window.location.href,timestamp:new Date,text:"A user left the website."})}).catch((e=>console.error(e))))),window.track=t=>{"complete"===document.readyState&&fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).catch((e=>console.error(e)))}})();